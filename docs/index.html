<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Cemu Graphic Packs</title>
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,500" rel="stylesheet" />
    <script type="text/javascript" src="js/jszip.min.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <meta name="theme-color" content="#2c3e50" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <!-- >>> Meta <<< -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Cemu Graphic Packs" />
    <meta name="twitter:description" content="Community Made Graphic Packs for Cemu." />
    <meta name="application-name" content="Cemu Graphic Packs Configurator" />
    <meta name="description" content="Community Made Graphic Packs for Cemu." />
    <meta name="keywords" content="Cemu, Wii U, Graphic Pack, Modification, Upscale, Games, Community" />
    <script>
        // Calculate Github repository info, avoid using extra api calls.
        repositoryUsername = "Crementif"; // Replace with window.location.host.split(".")[0];
        repositoryName = "CemuGraphicPacks"; // Replace with window.location.pathname.split("/")[1];
        defaultFetchUrl = "https://api.github.com/repos/" + repositoryUsername + "/" + repositoryName + "/git/trees/master:src?recursive=3";
        defaultFileUrl = "https://raw.githubusercontent.com/" + repositoryUsername + "/" + repositoryName + "/master/src/"
        reportUrl = "https://github.com/" + repositoryUsername + "/" + repositoryName + "/issues/";
        // This info is only used to make 'dynamic' fetch calls.
    </script>
    <script type="text/javascript" src="js/build.js" async></script>
    <script type="text/javascript" src="js/index.js" defer></script>
</head>
<body>
	<header>
		<a id="logo" href="/index.html">Cemu Graphic Packs</a>
		<nav>
			
			<ul class="progressBar">
                <li><strong>Graphic Packs Configurator</strong></li>
				<!-- Implement some navigation, although not sure atm.
				<li><a id="progressBar1" href="#">Select games</a></li>
				<li><a id="progressBar2" href="#">Select your Graphic Pack Settings</a></li>
				-->
			</ul>
		</nav>
	</header>
	
	<main>
        <form name="selectGames">
            <p id="actionTitle">Select the games you want to be improved<br></p>
            <input type="search" id="searchGames" placeholder="Search games..." oninput="filterGameList(this)">

            <div id="gameList">
                <template id="gameEntryTemplate">
                    <div class="gameEntry">
                        <input type="checkbox" id="input_folderName" name="folderName" class="checkbox">
                        <label for="input_folderName">gameTitle</label>
                        <p class="clickLabel" id="label_folderName" onClick="showPreview(this);">gameTitle</p>
                    </div>
                </template>
            </div>

            <p id="noSearchResults" style="display: none;">
                <strong>No such thing could be found.</strong><br> Make sure you typed it correctly. Are you sure that it's both a native Wii U title and that it runs on Cemu?<br><br> If you're sure that it runs and this repository doesn't have <strong>any</strong> graphic packs for it, you can <a href="" id="searchIssueUrl">create a Github Issue</a> about it here and kindly ask someone. You can also <a href="https://github.com/slashiee/cemu_graphic_packs/wiki/How-to-create-Graphic-Packs">make your own graphic pack</a> with the help of the guide.
            </p>

            <span id="noSelectionText">You first have to make a selection</span>
            <div id="buttonContainers">
                <input type="button" class="button" id="continueButton" value="Continue" onMouseOver="hoverAction(true);" onMouseOut="hoverAction(false);" onClick="continueToSettings();"/>
                <input type="button" class="button" id="downloadButton" value="Download" onClick="downloadBuild();"/>
            </div>
        </form>
		<div id="settingsSection">
			<h2 id="gameTitle">Game Title</h2>
			<span id="gameLinks"></span>
			<div id="preview">
			</div>
			<div id="options" onScroll="changePreviewSize();">
			</div>
			<input type="button" class="button" id="nextButton" value="Next Game" onClick="showGame(this);"/>
		</div>
	</main>
    <footer>
        <div id="localstorageWarning">
            This site uses localstorage for storing previous selections and other features. Do you want store your choices? You can change this choice in the settings.
            <span>
                <strong onClick="localStorage.setItem('localstoragePref', 'true'); document.getElementById('localstorageWarning').style='display: none';">Sure</strong>
                <strong onClick="localStorage.setItem('localstoragePref', 'false'); document.getElementById('localstorageWarning').style='display: none';">Nope</strong>
            </span>
            <script>
                if (typeof localStorage.getItem("localstoragePref") === "string" || navigator.doNotTrack === "1") {
                    document.getElementById("localstorageWarning").style = "display: none;";
                }
            </script>
        </div>
        <div class="bar">
            <button onClick="togglePopup(event);"><strong>Settings</strong></button>
            <div id="settingsPopup" class="hiddenPopup" onClick="togglePopup(event);">
                <!--This element stretches the entire screen-->
                <div id="settingsPopupContainer">
                    <p class="bar">Settings<span id="settingsClose" onClick="togglePopup(event);">✖</span></p>
                    <form id="settingsPopupForm">
                        <input type="checkbox" class="checkbox" id="enableLocalstorage" onChange="storeSettings(this);"/>
                        <label for="enableLocalStorage">Enable Localstorage</label>
                    </form>
                    <script>
                        settingsFormInputs = document.getElementById("settingsPopupForm").children;
                        for (i = 0; i < settingsFormInputs.length; i++) {
                            if (settingsFormInputs[i].type === "checkbox") settingsFormInputs[i].checked = JSON.parse(localStorage.getItem(settingsFormInputs[i].id));
                        }
                    </script>
                </div>
            </div>
            <span>
                <a href="">Help us over on github!</a>
                <a href="">Site not working?</a>
                <a href="">Graphic packs for Cemu&lt;1.8.0</a>
            </span>
        </div>
    </footer>
</body>
</html>
